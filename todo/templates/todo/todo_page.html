{% extends 'todo/Base.html' %}

{% load static %}

{% block content %}

<!DOCTYPE html>
<html>
<head> 
  <link rel="stylesheet" type="text/css" href="{% static 'todo_page.css' %}">
</head>

  <body>
    <div class="column">
    <header>
      <h1 class="title">Todo List</h1>
    </header>
    <form action="/team/{{todo.player.player_team.pk}}/team-hub" method="GET">
      {% csrf_token %}
      <button type="battle-btn">Upgrade Skills</button>
    </form> 
    <div>
    <div class="points">Todo points: {{ todo.player.todo_points }}</div>
    <div class="addtask">
      <form action="/{{todo.pk}}/search/" method="post">{% csrf_token %}
        <div class="taskname">
        <label for="task_name">Task Name: </label>
        <input id="task_name" type="text" name="task_name"><br>
        </div>
        <label for="task_description">Task Description: </label>
        <input id="task_description" type="text" name="task_description">
        <input type="submit" value="Add Task"><br><br>
      </form>
    </div>
    <div>
      {% for task in tasks %}
      <div class="task">
        <form action="/{{todo.pk}}/search/" method="post">{% csrf_token %}
          <div class="taskname">
          <label for="task_name">Task Name: </label>
          <input id="task_name" type="text" name="task_name" value="{{ task.task_name }}" readonly><br>
          </div>
          <label for="task_description">Task Description: </label>
          <input id="task_description" type="text" name="task_description" value="{{ task.task_description }}">
          <input type="submit" value="Edit Task"><br><br>
        </form>
        <form action="/{{todo.pk}}/search/" method="post">{% csrf_token %}
          <input class="complete" type="submit" value="Complete Task: {{ task.task_name }}" name="completion_status">
          {% if task.completion_status %}
            <p>Completed</p>
          {% else %}
            <p>Not Completed</p>
          {% endif %}<br><br>
        </form>
      </div>
      {% endfor %}
    </div>
    <div>{{todo.user.player_name}}</div>
  </div>
  </body>
</html>

{% endblock %}
